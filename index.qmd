---
title: "Sharing Computational Environments with Pixi"
author: Raniere Silva
format: revealjs
---

## {background-image="img/screenshot-pixi.sh.png" background-position="top"}

::: aside
Screenshot of https://pixi.sh/latest/ on 2025-09-03.
:::

## Why?

1. Operating system (OS) and programming language agnostic.
2. Avoid users to have to walk pass the [dependency hell](https://en.wikipedia.org/wiki/Dependency_hell).

   - Long chains of dependencies
   - Conflicting dependencies

3. Avoid users reporting bugs that only work on their computer.
4. Share alias for the command line interface (cli).

## Use containers instead

Pixi does **not** virtualise the hardware and, because of it, you can**not** reuse ports.

If you are working in a monolithic project that has one or more microservices, you should use containers (for example, [Podman](https://podman.io/), [Docker](https://www.docker.com/), [Apptainer](https://apptainer.org/), ...) instead of Pixi.

## How?

1. Pixi uses its own package repository.
2. Pixi uses its own copy of the dependencies.
3. Pixi locks the full dependency tree.
4. Pixi will check if all the dependencies are satisfied before execute tasks.

## Limitations

1. Package repository

   Because Pixi primarily install packages from [conda-forge](https://github.com/conda-forge).
2. Computation (as in number of CPU)

   Because Pixi will check the dependencies before each task execution.
3. Storage (as in size of HDD)

   Because Pixi will duplicate the dependencies for each project.
4. Transfer (as in speed of Internet connection)

   Because some dependencies can be in the 3 digits MB.

## Where are we

| | 1995 (Windows 95) | 2009 (Windows 7) | 2021 (Windows 11) |
| --- | --- | --- | --- |
| CPU | Intel® 200 MHz Pentium® | Intel® Core™ 2.6GHz | Intel® Core™ 5.2GHz |
| RAM | 32 MB | 3GB | 16GB |
| HDD | 3.8 GB | 500GB | 1TB |
| Internet | 30 Kb/s | 10 Mb/s | 100 Mb/s |

:::{.notes}
1995 information based on https://web.archive.org/web/19961221060500/http://www.dell.com/products/dim/xps/index.htm

2009 information based on https://web.archive.org/web/20100228194635/http://www.dell.com/us/en/home/desktops/desktop-studio-xps-9000/pd.aspx?refid=desktop-studio-xps-9000&cs=19&s=dhs

2021 information based on https://web.archive.org/web/20210713014926/https://www.dell.com/en-us/shop/desktop-computers/xps-desktop/spd/xps-8940-desktop/xd8940msr50h

Internet speed based on https://www.reddit.com/r/coolguides/comments/1l95e53/a_cool_guide_to_average_us_internet_speeds_over/#lightbox
:::

## `pixi.toml`

Pixi uses the file `pixi.toml` as the human readable configuration file.

::: {.callout-tip}
`pixi.toml` can be created using

```bash
pixi init
```
:::

## Example of `pixi.toml`

```toml
[workspace]
authors = ["Jane Doe <Jane.Doe@digital-research.academy>"]
channels = ["conda-forge"]
name = "example"
platforms = ["linux-64"]
version = "0.1.0"

[tasks]

[dependencies]
python = ">=3.14.0,<3.15"
```

## `pixi.lock`

Pixi uses the file `pixi.lock` as the machine readable configuration file and includes a full description of the environment.

::: {.callout-important}
`pixi.lock` **must** be included in your version controled repository.
:::

## Example of `pixi.lock`

```yaml
version: 6
environments:
  default:
    channels:
    - url: https://conda.anaconda.org/conda-forge/
    packages:
      linux-64:
      ...
      - conda: https://conda.anaconda.org/conda-forge/linux-64/openssl-3.6.0-h26f9b46_0.conda
      - conda: https://conda.anaconda.org/conda-forge/linux-64/python-3.14.0-h32b2ec7_102_cp314.conda
      ...
packages:
...
- conda: https://conda.anaconda.org/conda-forge/linux-64/openssl-3.6.0-h26f9b46_0.conda
  sha256: a47271202f4518a484956968335b2521409c8173e123ab381e775c358c67fe6d
  md5: 9ee58d5c534af06558933af3c845a780
  depends:
  - __glibc >=2.17,<3.0.a0
  - ca-certificates
  - libgcc >=14
  license: Apache-2.0
  license_family: Apache
  size: 3165399
  timestamp: 1762839186699
- conda: https://conda.anaconda.org/conda-forge/linux-64/python-3.14.0-h32b2ec7_102_cp314.conda
  build_number: 102
  sha256: 76d750045b94fded676323bfd01975a26a474023635735773d0e4d80aaa72518
  md5: 0a19d2cc6eb15881889b0c6fa7d6a78d
  depends:
  ...
  license: Python-2.0
  size: 36681389
  timestamp: 1761176838143
  python_site_packages_path: lib/python3.14/site-packages
```

## `.pixi`

Pixi uses the directory `.pixi` to store a working copy of all the dependencies of the project.

::: {.callout-tip}
`.pixi` **must** be excluded from your version controled repository.

Pixi will configure your `.gitignore` when you run

```bash
pixi init
```
:::

## Example of `.pixi`

```
.pixi/
└── envs
    └── default
        ├── bin
        ⋮   ⋮
        │   ├── openssl
        │   ├── python -> python3.14
        │   ├── python3 -> python3.14
        │   ├── python3.1 -> python3.14
        │   ├── python3.14
        ⋮   ⋮
        ├── include
        ⋮   ⋮
        │   ├── openssl
        │   │   ├── aes.h
        ⋮   ⋮    ⋮
        │   ├── python3.14
        │   │   ├── abstract.h
        ⋮   ⋮    ⋮
        ├── lib
        │   ├── libpython3.14.so -> libpython3.14.so.1.0
        │   ├── libpython3.14.so.1.0
        │   ├── libpython3.so
        ⋮   ⋮
        │   ├── python3.14
        │   │   ├── abc.py
        ⋮   ⋮    ⋮
```

## Installation

### Windows

```powershell
powershell -ExecutionPolicy ByPass `
  -c "irm -useb https://pixi.sh/install.ps1 | iex"
```

### Unix-like

```bash
curl -fsSL https://pixi.sh/install.sh | sh
```

### Other Methods

Visit the [Installation](https://pixi.sh/latest/installation/) section on Pixi's documentation.

## Renata's use case

:::: {.columns}

::: {.column width="50%"}
[![Image by Netguru.](img/446522.svg)](https://www.svgrepo.com/svg/446522/avatar-portrait)
:::

::: {.column width="50%"}
- Data analysis with [R](https://cran.r-project.org/)
- Data visualisation with [ggplot2](https://ggplot2.tidyverse.org/)
:::

::::

## Renata's use case - Cheat sheet

1.  Start environment:

    ```bash
    pixi init
    ```

2.  Add dependencies:

    ```bash
    pixi add r-base r-ggplot2
    ```

3.  Launch "virtual" shell:

    ```bash
    pixi shell
    ```

4.  Run R command:

    ```bash
    Rscript -e "1 + 1"
    ```

## Camila's use case

:::: {.columns}

::: {.column width="50%"}
[![Image by Netguru.](img/446477.svg)](https://www.svgrepo.com/svg/446477/avatar)
:::

::: {.column width="50%"}
- New application written in C
:::

::::

## Camila's C code

```c
#include <stdio.h>

int main() {
    printf("Hello World");

    return 0;
}
```

## Camila's use case - Cheat sheet

1.  Start environment:

    ```bash
    pixi init
    ```

2.  Add dependencies:

    ```bash
    pixi add gcc
    ```

3.  Create task:

    ```bash
    pixi task add make "gcc -o hello hello.c"
    ```

4.  Run task:

    ```bash
    pixi run make
    ```

## Paige's use case

:::: {.columns}

::: {.column width="50%"}
[![Image by Netguru.](img/446491.svg)](https://www.svgrepo.com/svg/446491/avatar)
:::

::: {.column width="50%"}
- Image processing with Python
- Jupyter Notebook for exploratory analysis
:::

::::

## Paige's use case - Cheat sheet

1.  Start environment:

    ```bash
    pixi init --format pyproject
    ```

2.  Add dependencies:

    ```bash
    pixi add Pillow requests jupyter notebook
    ```

3.  Create task:

    ```bash
    pixi run jupyter notebook
    ```

## Paige's use case - Jupyter Notebook

```python
import requests
from PIL import Image
from io import BytesIO

with requests.get('https://github.com/python-pillow/Pillow/blob/main/Tests/images/hopper.jpg?raw=true') as r:
    if r.status_code == 200:
        hopper = Image.open(BytesIO(r.content))
```